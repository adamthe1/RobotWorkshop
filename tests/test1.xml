<mujoco model="panda scene (bar table)">

  <option integrator="implicitfast"/>
  <compiler angle="radian" meshdir="assets" autolimits="true" assetdir="meshes"/>

  <statistic center="0.3 0 0.4" extent="1"/>

  <visual>
    <headlight diffuse="0.6 0.6 0.6" ambient="0.3 0.3 0.3" specular="0 0 0"/>
    <rgba haze="0.15 0.25 0.35 1"/>
    <global azimuth="120" elevation="-20"/>
  </visual>

  <asset>
    <texture type="skybox" builtin="gradient" rgb1="0.3 0.5 0.7" rgb2="0 0 0" width="512" height="3072"/>
    <texture type="2d" name="groundplane" builtin="checker" mark="edge" rgb1="0.2 0.3 0.4" rgb2="0.1 0.2 0.3"
      markrgb="0.8 0.8 0.8" width="300" height="300"/>
    <material name="groundplane" texture="groundplane" texuniform="true" texrepeat="5 5" reflectance="0.2"/>

    <mesh name="wine_bottle_mesh" file="WineBottle.obj"/>
    <mesh name="wine_glass_mesh" file="wine_glass.obj"/>

    <material name="bar_mat" rgba="0.8 0.8 0.8 1" texture="marble_tex"
            texuniform="true"
            texrepeat="1 1"
            reflectance="0.2" shininess="0.5" specular="1"/>

       <!-- Blue pedestal material -->
    <material name="pedestal_blue" rgba="0 0 1 1" reflectance="0.1" shininess="0.2" specular="0.2"/>

    <!-- Red liquid -->
    <material name="liquid_red" rgba="0.6 0.0 0.0 0.9" reflectance="0.2" shininess="0.3" specular="0.4"/>

    <material name="glass_mat" rgba="1 0.9 0.9 0.5" reflectance="0.5" shininess="0.9" specular="1"/>
    <material name="glass_green" rgba="0.2 0.8 0.2 0.6" reflectance="0.5" shininess="0.9" specular="1"/>
    <material name="glass_yellow" rgba="0.9 0.9 0.2 0.6" reflectance="0.5" shininess="0.9" specular="1"/>
    <!-- Beer liquid + coaster materials -->
    <material name="beer_mat" rgba="0.95 0.75 0.2 0.85" reflectance="0.2" shininess="0.2" specular="0.3"/>
    <material name="coaster_mat" rgba="0.8 0.2 0.2 1" reflectance="0.05" shininess="0.1" specular="0.1"/>

    <material name="wine_mat"
              rgba="0.6 0.0 0.0 0.8" 
              reflectance="0.2"
              shininess="0.3"
              specular="0.4"/>

    <texture name="marble_tex"
               type="2d"
               file="grey.png"
               width="2000"
               height="1000"/>

    <texture name="wood_tex"
               type="2d"
               file="wood3.png"
               width="20"
               height="20"/>

    <!-- 2. Create a material that uses that texture -->
    <material name="wood_floor_mat"
              texture="wood_tex"
              texuniform="true"
              texrepeat="2.5 2.5"
              reflectance="1"
              shininess="0"
              specular="1"/> 

    <model name="panda" file="panda_for_duplicating.xml"/>
    <model name="so101" file="so101_for_duplicating.xml"/>
  </asset>

  <worldbody>
    <light pos="0 0 1.5" dir="0 0 -1" directional="true"/>
    <body name="wood_floor" pos="0 0 0">
      <geom type="box" size="200 200 0.01"
            material="wood_floor_mat"
            contype="0" conaffinity="0"/>
    </body>
            <!-- ==================== ROBOT 1 SCENE ==================== -->
    <!-- Robot 1 -->
    <!-- Pedestal for robot 1 -->
      <body name="pedestal1" pos="0.1 0.0 0">
        <geom type="box"
              size="0.2 0.2 0.1"
              material="pedestal_blue"
              contype="1" conaffinity="1" density="500"/>
      </body>

    <!-- Robot 1 -->
    <body name="robot1" pos="0.1 0.0 0.1">
      <attach model="panda" body="link0" prefix="panda0_"/>
    </body>

    <!-- Bar wall for robot 1 -->
    <body name="bar_wall1" pos="-1.0 0.0 0.4">
      <geom type="box" size="0.1 1.0 0.8" material="bar_mat" density="2000" contype="1" conaffinity="1"/>
    </body>

    <!-- Table for robot 1 -->
    <body name="table1" pos="0.8 0.0 0.3">
      <geom type="box" size="0.3 0.9 0.35" material="bar_mat" contype="1" conaffinity="1" density="2000"/>
    </body>

    <!-- Small pedestals on the table -->
    <body name="pedestal_left1" pos="0.8 -0.3 0.71">
      <geom type="box" size="0.15 0.15 0.06" material="pedestal_blue" contype="1" conaffinity="1" density="800"/>
      <!-- Coasters on left pedestal (cups) -->
    </body>

    <body name="pedestal_right1" pos="0.8 0.3 0.71">
      <geom type="box" size="0.2 0.2 0.06" material="pedestal_blue" contype="1" conaffinity="1" density="800"/>
      <!-- Two bottle coasters on right pedestal -->
      <geom type="cylinder" pos="-0.06 0 0.002" size="0.055 0.002" material="coaster_mat" contype="0" conaffinity="0"/>
      <geom type="cylinder" pos=" 0.06 0 0.002" size="0.055 0.002" material="coaster_mat" contype="0" conaffinity="0"/>
    </body>

    <!-- Small center coaster on the table (reference for cups) -->
    <body name="center_coaster1" pos="0.8 0.0 0.6519999999999999">
      <geom type="cylinder" size="0.045 0.002" material="coaster_mat" contype="0" conaffinity="0"/>
    </body>

    <!-- Wine glass for robot 1 (left pedestal, rear coaster) -->
    <body name="Wine_glass1" pos="0.8 -0.36 0.862" euler="89.55 90 0">
      <joint name="wine_glass_free1" type="free"/>
      <geom type="mesh" mesh="wine_glass_mesh" material="glass_mat" density="1200" contype="1" conaffinity="1" friction="3.0 0.08 0.008"/>
    </body>

    <!-- Big beer glass for robot 1 (left pedestal, front coaster) -->
    <body name="beer_glass1" pos="0.8 -0.24 0.872">
      <joint name="beer_glass_free1" type="free"/>
      <!-- Outer glass - changed to box (square) as requested -->
      <geom type="box" size="0.03 0.03 0.12" material="glass_mat" contype="1" conaffinity="1" friction="2.0 0.05 0.005" condim="6"/>
    </body>
    
    <!-- Green square bottle (right pedestal, right coaster) -->
    <body name="green_bottle_body1" pos="0.8 0.36 0.852">
      <joint name="green_bottle_free1" type="free"/>
      <geom name="green_bottle_body1" type="box" size="0.035 0.035 0.14" material="glass_green" mass="0.5"
            contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225" solimp="0.95 0.995 0.0005" solref="0.004 1" />
      <geom name="green_bottle_base1" type="box" size="0.048 0.048 0.005" pos="0 0 -0.135" material="glass_green"
            mass="0.02" contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225" solimp="0.95 0.995 0.0005" solref="0.004 1" />
      <geom name="green_bottle_neck1" type="box" size="0.012 0.012 0.06" pos="0 0 0.20" material="glass_green"
            mass="0.09" contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225" solimp="0.95 0.995 0.0005" solref="0.004 1" />
    </body>

    <!-- Yellow square bottle (right pedestal, left coaster) -->
    <body name="yellow_bottle_body1" pos="0.8 0.24 0.852">
      <joint name="yellow_bottle_free1" type="free"/>
      <geom name="yellow_bottle_body1" type="box" size="0.035 0.035 0.14" material="glass_yellow" mass="0.5"
            contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225" solimp="0.95 0.995 0.0005" solref="0.004 1" />
      <geom name="yellow_bottle_base1" type="box" size="0.048 0.048 0.005" pos="0 0 -0.135" material="glass_yellow"
            mass="0.02" contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225" solimp="0.95 0.995 0.0005" solref="0.004 1" />
      <geom name="yellow_bottle_neck1" type="box" size="0.012 0.012 0.06" pos="0 0 0.20" material="glass_yellow"
            mass="0.09" contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225" solimp="0.95 0.995 0.0005" solref="0.004 1" />
    </body>
    
            </worldbody>
</mujoco>