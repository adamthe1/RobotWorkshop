<mujoco model="panda scene (bar table)">

  <option integrator="implicitfast"/>
  <compiler angle="radian" meshdir="assets" autolimits="true" assetdir="meshes"/>

  <statistic center="0.3 0 0.4" extent="1"/>

  <visual>
    <headlight diffuse="0.6 0.6 0.6" ambient="0.3 0.3 0.3" specular="0 0 0"/>
    <rgba haze="0.15 0.25 0.35 1"/>
    <global azimuth="120" elevation="-20"/>
  </visual>

  <asset>
    <texture type="skybox" builtin="gradient" rgb1="0.3 0.5 0.7" rgb2="0 0 0" width="512" height="3072"/>
    <texture type="2d" name="groundplane" builtin="checker" mark="edge" rgb1="0.2 0.3 0.4" rgb2="0.1 0.2 0.3"
      markrgb="0.8 0.8 0.8" width="300" height="300"/>
    <material name="groundplane" texture="groundplane" texuniform="true" texrepeat="5 5" reflectance="0.2"/>

    <mesh name="wine_bottle_mesh" file="WineBottle.obj"/>
    <mesh name="wine_glass_mesh" file="wine_glass.obj"/>

    <material name="bar_mat" rgba="0.8 0.8 0.8 1" texture="marble_tex"
            texuniform="true"
            texrepeat="1 1"
            reflectance="0.2" shininess="0.5" specular="1"/>

    <!-- Red liquid -->
    <material name="liquid_red" rgba="0.6 0.0 0.0 0.9" reflectance="0.2" shininess="0.3" specular="0.4"/>

    <material name="glass_mat" rgba="1 0.9 0.9 0.5" reflectance="0.5" shininess="0.9" specular="1"/>
    <material name="glass_green" rgba="0.2 0.8 0.2 0.6" reflectance="0.5" shininess="0.9" specular="1"/>
    <material name="glass_yellow" rgba="0.9 0.9 0.2 0.6" reflectance="0.5" shininess="0.9" specular="1"/>

    <material name="wine_mat"
              rgba="0.6 0.0 0.0 0.8" 
              reflectance="0.2"
              shininess="0.3"
              specular="0.4"/>

    <texture name="marble_tex"
               type="2d"
               file="grey.png"
               width="2000"
               height="1000"/>

    <texture name="wood_tex"
               type="2d"
               file="wood3.png"
               width="20"
               height="20"/>

    <!-- 2. Create a material that uses that texture -->
    <material name="wood_floor_mat"
              texture="wood_tex"
              texuniform="true"
              texrepeat="2.5 2.5"
              reflectance="1"
              shininess="0"
              specular="1"/> 

    <model name="panda" file="panda_for_duplicating.xml"/>
    <model name="so101" file="so101_for_duplicating.xml"/>
  </asset>

  <worldbody>
    <light pos="0 0 1.5" dir="0 0 -1" directional="true"/>
    <body name="wood_floor" pos="0 0 0">
      <geom type="box" size="200 200 0.01"
            material="wood_floor_mat"
            contype="0" conaffinity="0"/>
    </body>
            <!-- ==================== ROBOT 1 SCENE ==================== -->
    
    <!-- Robot 1 -->
    <body name="robot1" pos="0 0.0 0">
      <attach model="panda" body="link0" prefix="panda0_"/>
    </body>

    

    <!-- Bar wall for robot 1 -->
    <body name="bar_wall1" pos="-1.0 0.0 0.4">
      <geom type="box"
            size="0.1 1.0 0.8"
            material="bar_mat"
            density="2000"
            contype="1" conaffinity="1"/>
    </body>

    <!-- Table for robot 1 -->
    <body name="table1" pos="0.8 0.0 0.3">
      <geom type="box" size="0.3 0.9 0.35" material="bar_mat" contype="1" conaffinity="1" density="2000"/>
    </body>

    <!-- Wine bottle for robot 1 -->
    <body name="wine_bottle_body1" pos="0.6 -0.25 0.8">
      <joint name="wine_bottle_free1" type="free"/>
      <geom type="mesh"
            mesh="wine_bottle_mesh"
            material="glass_mat"
            contype="1"
            density="700"
            friction="3.0 0.08 0.008"
            conaffinity="1"/>
      <geom type="cylinder" pos="0 0 0.085" size="0.03 0.08" material="liquid_red" density="500" contype="1" conaffinity="1" friction="2.0 0.08 0.008"/>
    </body>

    <!-- Wine glass for robot 1 -->
    <body name="Wine_glass1" pos="0.6 0.3 0.9" euler="89.55 90 0">
      <joint name="wine_glass_free1" type="free"/>
      <geom type="mesh"
            mesh="wine_glass_mesh"
            material="glass_mat"
            density="1200"
            contype="1" conaffinity="1" friction="3.0 0.08 0.008"/>
    </body>
    
    <!-- Green square bottle for robot 1 -->
    <body name="green_bottle_body1" pos="0.6 0.05 0.79">
      <joint name="green_bottle_free1" type="free"/>
    <geom name="green_bottle_body1" type="box" size="0.035 0.035 0.14" material="glass_green" mass="0.5"
            contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225"
            solimp="0.95 0.995 0.0005" solref="0.004 1" />
      <!-- wider base plate to improve stability when placing the bottle down -->
      <geom name="green_bottle_base1" type="box" size="0.048 0.048 0.005" pos="0 0 -0.135" material="glass_green"
            mass="0.02" contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225"
            solimp="0.95 0.995 0.0005" solref="0.004 1" />
      <!-- square bottle neck (box) on top of body: halfheight 0.06 placed 0.20 above body center (0.14 + 0.06) -->
      <geom name="green_bottle_neck1" type="box" size="0.012 0.012 0.06" pos="0 0 0.20" material="glass_green"
            mass="0.09" contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225"
            solimp="0.95 0.995 0.0005" solref="0.004 1" />
    </body>

    <!-- Yellow square bottle for robot 1 -->
    <body name="yellow_bottle_body1" pos="0.6 -0.1 0.79">
      <joint name="yellow_bottle_free1" type="free"/>
            <geom name="yellow_bottle_body1" type="box" size="0.035 0.035 0.14" material="glass_yellow" mass="0.5"
            contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225"
            solimp="0.95 0.995 0.0005" solref="0.004 1" />
      <!-- wider base plate to improve stability when placing the bottle down -->
      <geom name="yellow_bottle_base1" type="box" size="0.048 0.048 0.005" pos="0 0 -0.135" material="glass_yellow"
            mass="0.02" contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225"
            solimp="0.95 0.995 0.0005" solref="0.004 1" />
      <!-- square bottle neck (box) on top of body: halfheight 0.06 placed 0.20 above body center (0.14 + 0.06) -->
      <geom name="yellow_bottle_neck1" type="box" size="0.012 0.012 0.06" pos="0 0 0.20" material="glass_yellow"
            mass="0.09" contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225"
            solimp="0.95 0.995 0.0005" solref="0.004 1" />
    </body>
    
            <!-- ==================== ROBOT 2 SCENE ==================== -->
    
    <!-- Robot 2 -->
    <body name="robot2" pos="0 2.0 0">
      <attach model="panda" body="link0" prefix="panda1_"/>
    </body>

    

    <!-- Bar wall for robot 2 -->
    <body name="bar_wall2" pos="-1.0 2.0 0.4">
      <geom type="box"
            size="0.1 1.0 0.8"
            material="bar_mat"
            density="2000"
            contype="1" conaffinity="1"/>
    </body>

    <!-- Table for robot 2 -->
    <body name="table2" pos="0.8 2.0 0.3">
      <geom type="box" size="0.3 0.9 0.35" material="bar_mat" contype="1" conaffinity="1" density="2000"/>
    </body>

    <!-- Wine bottle for robot 2 -->
    <body name="wine_bottle_body2" pos="0.6 1.75 0.8">
      <joint name="wine_bottle_free2" type="free"/>
      <geom type="mesh"
            mesh="wine_bottle_mesh"
            material="glass_mat"
            contype="1"
            density="700"
            friction="3.0 0.08 0.008"
            conaffinity="1"/>
      <geom type="cylinder" pos="0 0 0.085" size="0.03 0.08" material="liquid_red" density="500" contype="1" conaffinity="1" friction="2.0 0.08 0.008"/>
    </body>

    <!-- Wine glass for robot 2 -->
    <body name="Wine_glass2" pos="0.6 2.3 0.9" euler="89.55 90 0">
      <joint name="wine_glass_free2" type="free"/>
      <geom type="mesh"
            mesh="wine_glass_mesh"
            material="glass_mat"
            density="1200"
            contype="1" conaffinity="1" friction="3.0 0.08 0.008"/>
    </body>
    
    <!-- Green square bottle for robot 2 -->
    <body name="green_bottle_body2" pos="0.6 2.05 0.79">
      <joint name="green_bottle_free2" type="free"/>
    <geom name="green_bottle_body2" type="box" size="0.035 0.035 0.14" material="glass_green" mass="0.5"
            contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225"
            solimp="0.95 0.995 0.0005" solref="0.004 1" />
      <!-- wider base plate to improve stability when placing the bottle down -->
      <geom name="green_bottle_base2" type="box" size="0.048 0.048 0.005" pos="0 0 -0.135" material="glass_green"
            mass="0.02" contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225"
            solimp="0.95 0.995 0.0005" solref="0.004 1" />
      <!-- square bottle neck (box) on top of body: halfheight 0.06 placed 0.20 above body center (0.14 + 0.06) -->
      <geom name="green_bottle_neck2" type="box" size="0.012 0.012 0.06" pos="0 0 0.20" material="glass_green"
            mass="0.09" contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225"
            solimp="0.95 0.995 0.0005" solref="0.004 1" />
    </body>

    <!-- Yellow square bottle for robot 2 -->
    <body name="yellow_bottle_body2" pos="0.6 1.9 0.79">
      <joint name="yellow_bottle_free2" type="free"/>
            <geom name="yellow_bottle_body2" type="box" size="0.035 0.035 0.14" material="glass_yellow" mass="0.5"
            contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225"
            solimp="0.95 0.995 0.0005" solref="0.004 1" />
      <!-- wider base plate to improve stability when placing the bottle down -->
      <geom name="yellow_bottle_base2" type="box" size="0.048 0.048 0.005" pos="0 0 -0.135" material="glass_yellow"
            mass="0.02" contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225"
            solimp="0.95 0.995 0.0005" solref="0.004 1" />
      <!-- square bottle neck (box) on top of body: halfheight 0.06 placed 0.20 above body center (0.14 + 0.06) -->
      <geom name="yellow_bottle_neck2" type="box" size="0.012 0.012 0.06" pos="0 0 0.20" material="glass_yellow"
            mass="0.09" contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225"
            solimp="0.95 0.995 0.0005" solref="0.004 1" />
    </body>
    
            <!-- ==================== ROBOT 3 SCENE ==================== -->
    
    <!-- Robot 3 -->
    <body name="robot3" pos="0 4.0 0">
      <attach model="panda" body="link0" prefix="panda2_"/>
    </body>

    

    <!-- Bar wall for robot 3 -->
    <body name="bar_wall3" pos="-1.0 4.0 0.4">
      <geom type="box"
            size="0.1 1.0 0.8"
            material="bar_mat"
            density="2000"
            contype="1" conaffinity="1"/>
    </body>

    <!-- Table for robot 3 -->
    <body name="table3" pos="0.8 4.0 0.3">
      <geom type="box" size="0.3 0.9 0.35" material="bar_mat" contype="1" conaffinity="1" density="2000"/>
    </body>

    <!-- Wine bottle for robot 3 -->
    <body name="wine_bottle_body3" pos="0.6 3.75 0.8">
      <joint name="wine_bottle_free3" type="free"/>
      <geom type="mesh"
            mesh="wine_bottle_mesh"
            material="glass_mat"
            contype="1"
            density="700"
            friction="3.0 0.08 0.008"
            conaffinity="1"/>
      <geom type="cylinder" pos="0 0 0.085" size="0.03 0.08" material="liquid_red" density="500" contype="1" conaffinity="1" friction="2.0 0.08 0.008"/>
    </body>

    <!-- Wine glass for robot 3 -->
    <body name="Wine_glass3" pos="0.6 4.3 0.9" euler="89.55 90 0">
      <joint name="wine_glass_free3" type="free"/>
      <geom type="mesh"
            mesh="wine_glass_mesh"
            material="glass_mat"
            density="1200"
            contype="1" conaffinity="1" friction="3.0 0.08 0.008"/>
    </body>
    
    <!-- Green square bottle for robot 3 -->
    <body name="green_bottle_body3" pos="0.6 4.05 0.79">
      <joint name="green_bottle_free3" type="free"/>
    <geom name="green_bottle_body3" type="box" size="0.035 0.035 0.14" material="glass_green" mass="0.5"
            contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225"
            solimp="0.95 0.995 0.0005" solref="0.004 1" />
      <!-- wider base plate to improve stability when placing the bottle down -->
      <geom name="green_bottle_base3" type="box" size="0.048 0.048 0.005" pos="0 0 -0.135" material="glass_green"
            mass="0.02" contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225"
            solimp="0.95 0.995 0.0005" solref="0.004 1" />
      <!-- square bottle neck (box) on top of body: halfheight 0.06 placed 0.20 above body center (0.14 + 0.06) -->
      <geom name="green_bottle_neck3" type="box" size="0.012 0.012 0.06" pos="0 0 0.20" material="glass_green"
            mass="0.09" contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225"
            solimp="0.95 0.995 0.0005" solref="0.004 1" />
    </body>

    <!-- Yellow square bottle for robot 3 -->
    <body name="yellow_bottle_body3" pos="0.6 3.9 0.79">
      <joint name="yellow_bottle_free3" type="free"/>
            <geom name="yellow_bottle_body3" type="box" size="0.035 0.035 0.14" material="glass_yellow" mass="0.5"
            contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225"
            solimp="0.95 0.995 0.0005" solref="0.004 1" />
      <!-- wider base plate to improve stability when placing the bottle down -->
      <geom name="yellow_bottle_base3" type="box" size="0.048 0.048 0.005" pos="0 0 -0.135" material="glass_yellow"
            mass="0.02" contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225"
            solimp="0.95 0.995 0.0005" solref="0.004 1" />
      <!-- square bottle neck (box) on top of body: halfheight 0.06 placed 0.20 above body center (0.14 + 0.06) -->
      <geom name="yellow_bottle_neck3" type="box" size="0.012 0.012 0.06" pos="0 0 0.20" material="glass_yellow"
            mass="0.09" contype="1" conaffinity="1" condim="6" friction="5.408 0.2366 0.04225"
            solimp="0.95 0.995 0.0005" solref="0.004 1" />
    </body>
    

  </worldbody>
</mujoco>